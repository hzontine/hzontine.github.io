---
layout: post
date: November 27, 2016
title: Understanding Mogrify()
---

Mogrify() takes a string and a tuple, and binds the two arguments.

  * string - Represents the SQL command you wish to compute 
    * "select x from y where z = '%s' and zz = '%s';"
    * "insert into y (a,b,c) values (%s, %s, %s);"
        
  * tuple - Must represent all the arguments you wish to input in one variable
    * (3,4)
    * ('hi','hello','goodbye')

Implementation:     **cur.mogrify(string, (tuple,))**

So let's say I'm interested in finding out what is the average number of siblings UMW students have.

{%highlight python%}
conn = connectToDB()
cur = conn.cursor(cursor_factory=psycopg2.extras.DictCursor)

name = 'Hannah'
age = 21
year = 'Senior'
num_Siblings = 4

try:
    queryVars = (name, age, year, num_Siblings)
    string = "SELECT * FROM umw WHERE student_name LIKE %s AND student_age = %s AND student_year LIKE %s AND numberSibs = %s;"
    queryStr = cur.mogrify(string, (queryVars, ))
    cur.execute(queryStr)
    myResult = cur.fetchall()
except Exception as e:
  print "Inserting not working: %s" % e
{%endhighlight%}
